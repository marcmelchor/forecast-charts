<p class="forecast--location">{{ forecastData.location }} <span
  style="font-size: 2rem;"> (Review made by <b>{{ selected.name }})</b></span></p>
<div class="display--flex margin__bottom--5">
  <div class="display--flex margin--auto buttons-container">
    <app-button
      buttonTittle="Switch User"
      buttonType="primary"
      (onClick)="switchUser()">
    </app-button>
    <app-button
      buttonTittle="Review Test Case"
      buttonType="secondary"
      (onClick)="reviewTestCase()"></app-button>
  </div>
</div>
<div class="display--flex margin__top--5">
  <div class="forecast--chart-container">
    <canvas id="forecast-data">{{ chartService.chart }}</canvas>
  </div>
</div>

<div class="display--flex margin__top--5 margin__bottom--5">
  <div class="pagination">
    <a
      *ngFor="let test of tests"
      [ngClass]="Number(selected.testCase) === Number(test.testCase.replace(rex, '')) ? 'active' : ''"
      (click)="onPagination(Number(test.testCase.replace(rex, '')))">
      {{ test.testCase.replace(rex, '') }}</a>
  </div>
</div>

<div class="display--flex margin__bottom--5 selector">
  <app-select
    (change)="onSelectStarting($event)"
    [inputData]="forecastData.data"
    [isIndexTheValue]="true"
    selectAttribute="Time"
    defaultSelected="Starting Time">
  </app-select>
  <app-select
    (change)="onSelectEnding($event)"
    [inputData]="startingTime === -Infinity ? forecastData.data : forecastData.data.slice(Number(startingTime) + 1)"
    [isIndexTheValue]="true"
    selectAttribute="Time"
    defaultSelected="Ending Time">
  </app-select>
  <app-select
    (change)="onSelectWarning($event)"
    [inputData]="warningTypes"
    [isFlatData]="true"
    defaultSelected="Warning Type">
  </app-select>
  <app-button
    buttonTittle="Add Warning"
    buttonType="small-primary"
    [disabled]="startingTime < 0 && endingTime < 0 && !warningType"
    (onClick)="addWarningType()">
  </app-button>
</div>

<div class="display--flex margin__bottom--5 margin__top--5">
  <div class="display--flex margin--auto" style="width: 90rem;">
    <hr style="width: 100%"/>
  </div>
</div>

<div class="display--flex margin__bottom--5 margin__top--5">
  <div class="display--block margin--auto">
    <div
      *ngFor="let warning of warningsByUserAndTestCase"
      class="display--flex" style="width: 90rem;">
      <div class="margin--auto buttons-container--spacing">
        <p>
          {{ forecastData.data[warning.startingTime].Time }} - {{ forecastData.data[warning.endingTime].Time }}
          - {{ warning.warningType.toUpperCase() }}
        </p>
      </div>
      <app-button
        buttonTittle="Remove Warning"
        buttonType="small-secondary"
        (onClick)="removeWarningType(warning.startingTime, warning.endingTime, warning.warningType)">
      </app-button>
    </div>
  </div>
</div>
